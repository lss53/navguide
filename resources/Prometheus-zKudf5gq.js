import{_ as h,s as m,r as g,c as p,o as s,w as c,b as r,d as o,n as _,t as i,a as u,F as l,e as d}from"./index-B-LM16Ha.js";const e=Object.freeze({firing:"firing",pending:"pending",inactive:"inactive"}),v={name:"Prometheus",mixins:[m],props:{item:Object},data:()=>({api:{status:"",count:0,alerts:{firing:0,inactive:0,pending:0}}}),computed:{count:function(){return this.countFiring()||this.countPending()||this.countInactive()||0},level:function(){return this.countFiring()?e.firing:this.countPending()?e.pending:e.inactive}},created(){this.fetchStatus()},methods:{fetchStatus:async function(){this.api=await this.fetch("api/v1/alerts").catch(t=>console.log(t))},countFiring:function(){return this.api?this.api.data?.alerts?.filter(t=>t.state===e.firing).length:0},countPending:function(){return this.api?this.api.data?.alerts?.filter(t=>t.state===e.pending).length:0},countInactive:function(){return this.api?this.api.data?.alerts?.filter(t=>t.state===e.pending).length:0}}},b={class:"title is-4"},k={class:"subtitle is-6"};function y(t,F,n,P,x,a){const f=g("Generic");return s(),p(f,{item:n.item},{content:c(()=>[u("p",b,i(n.item.name),1),u("p",k,[n.item.subtitle?(s(),r(l,{key:0},[d(i(n.item.subtitle),1)],64)):t.api?(s(),r(l,{key:1},[d(i(a.count)+" "+i(a.level)+" alerts ",1)],64)):o("",!0)])]),indicator:c(()=>[t.api?(s(),r("div",{key:0,class:_(["status",a.level])},i(a.count),3)):o("",!0)]),_:1},8,["item"])}const C=h(v,[["render",y],["__scopeId","data-v-f7b7e537"]]);export{C as default};

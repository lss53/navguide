import{_ as h,s as u,r as p,c as l,o as s,w as f,a as d,b as c,d as r,t as i}from"./index-B-LM16Ha.js";const _={name:"Healthchecks",mixins:[u],props:{item:Object},data:()=>({api:null}),computed:{up:function(){return this.api?this.api.checks?.filter(e=>e.status.toLowerCase()==="up").length:""},down:function(){return this.api?this.api.checks?.filter(e=>e.status.toLowerCase()==="down").length:""},grace:function(){return this.api?this.api.checks?.filter(e=>e.status.toLowerCase()==="grace").length:""}},created(){this.fetchStatus()},methods:{fetchStatus:async function(){if(!this.item.apikey){console.error("apikey is not present in config.yml for the Healthchecks entry!");return}const n={"X-Api-Key":this.item.apikey};this.api=await this.fetch("/api/v1/checks/",{headers:n}).catch(a=>{console.error(a)})}}},m={class:"notifs"},k={key:0,class:"notif up",title:"Up"},g={key:1,class:"notif down",title:"Down"},y={key:2,class:"notif grace",title:"Grace"};function w(e,n,a,C,v,t){const o=p("Generic");return s(),l(o,{item:a.item},{indicator:f(()=>[d("div",m,[t.up>0?(s(),c("strong",k,i(t.up),1)):r("",!0),t.down>0?(s(),c("strong",g,i(t.down),1)):r("",!0),t.grace>0?(s(),c("strong",y,i(t.grace),1)):r("",!0)])]),_:1},8,["item"])}const B=h(_,[["render",w],["__scopeId","data-v-682ea42c"]]);export{B as default};
